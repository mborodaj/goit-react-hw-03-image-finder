(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,n){e.exports={galleryImg:"ImageGalleryItem_galleryImg__8GFxi"}},13:function(e,t,n){e.exports={formContainer:"SearchBar_formContainer__2XIlZ",inputForm:"SearchBar_inputForm__1xeMh"}},24:function(e,t,n){e.exports={loader:"App_loader__2fptQ"}},26:function(e,t,n){e.exports={galleryBtn:"Button_galleryBtn__3hZ2H"}},27:function(e,t,n){e.exports={galleryList:"ImageGallery_galleryList__2T5dZ"}},33:function(e,t,n){},34:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(23),s=n.n(r),c=(n(33),n(14)),i=n(4),l=n(5),u=n(7),m=n(6),g=(n(34),n(24)),h=n.n(g),d=n(10),p=n.n(d),b=n(25),j=n(11),f=n.n(j);function y(){return(y=Object(b.a)(p.a.mark((function e(t,n){var a,o,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),"19716290-df87d159eb9c48b6c31409183",a="?q=".concat(t,"&page=").concat(n,"&key=").concat("19716290-df87d159eb9c48b6c31409183","&image_type=photo&orientation=horizontal&per_page=12"),f.a.defaults.baseURL="https://pixabay.com/api/",e.next=6,f.a.get(a);case 6:return o=e.sent,e.next=9,o.data;case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,t){return y.apply(this,arguments)},O=n(26),x=n.n(O),_=n(0);var w=function(e){var t=e.showMore;return Object(_.jsx)("button",{className:x.a.galleryBtn,onClick:t,children:"Show more"})},k=n(12),I=n.n(k);var S=function(e){var t=e.img,n=e.onImgClick,a=t.webformatURL,o=t.tags;return Object(_.jsx)("li",{className:I.a.galleryItem,children:Object(_.jsx)("img",{className:I.a.galleryImg,src:a,alt:o,onClick:function(){return n(t)}})})},M=n(8),C=n.n(M),L=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyPress=function(t){"Escape"===t.code&&e.props.closeModal()},e.closeModal=function(t){"DIV"===t.target.nodeName&&e.props.closeModal()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){console.log(this.props.closeModal);var e=this.props.image;return Object(_.jsx)("div",{className:C.a.backdrop,onClick:this.closeModal,children:Object(_.jsx)("div",{className:C.a.modal,children:Object(_.jsx)("img",{className:C.a.modalImage,src:e.largeImageURL,alt:e.tags})})})}}]),n}(a.Component),N=n(27),F=n.n(N),T=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={modal:!1,modalImg:{}},e.togleModal=function(){e.setState((function(e){return{modal:!e.modal,modalImg:{}}}))},e.onImgClick=function(t){e.togleModal(),e.setState({modalImg:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props,n=t.images;t.onImgClick;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("ul",{className:F.a.galleryList,children:n.map((function(t){return Object(_.jsx)(S,{img:t,onImgClick:e.onImgClick},t.id)}))}),this.state.modal&&Object(_.jsx)(L,{closeModal:this.togleModal,image:this.state.modalImg})]})}}]),n}(a.Component),B=n(28),E=n.n(B);var P=function(){return Object(_.jsx)(E.a,{type:"Grid",color:"#00BFFF",height:80,width:80})},U=n(13),A=n.n(U),G=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={value:""},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.value)},e.inputChange=function(t){var n=t.currentTarget;e.setState({value:n.value})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(_.jsx)("header",{children:Object(_.jsxs)("form",{className:A.a.formContainer,action:"submit",onSubmit:this.onSubmit,children:[Object(_.jsx)("input",{className:A.a.inputForm,type:"text",placeholder:"Find images",onChange:this.inputChange}),Object(_.jsx)("button",{type:"subnit",children:"Search"})]})})}}]),n}(a.Component),D=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchQuery:"",page:1,perPage:12,images:[],totalHits:null,isLoading:!1,button:!0,galleryText:""},e.onSubmit=function(t){e.setState({images:[],galleryText:""}),t?(e.setState({isLoading:!0}),v(t,1).then((function(e){return console.log(e.hits),e.hits})).then((function(n){console.log(n.length),n.length>0?e.setState({images:n,searchQuery:t,page:2,isLoading:!1,button:12===n.length}):e.setState({galleryText:"Nothing was found. Please specify you request.",isLoading:!1})}))):e.setState({galleryText:"Please enter some request"})},e.showMore=function(){var t=e.state,n=t.searchQuery,a=t.page,o=t.images;e.setState({isLoading:!0}),v(n,a).then((function(e){return e.hits})).then((function(t){return e.setState({images:[].concat(Object(c.a)(o),Object(c.a)(t)),isLoading:!1,button:12===t.length})})),e.setState((function(e){return{page:e.page+1}}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){window.scrollTo({top:document.documentElement.scrollTop+document.documentElement.clientHeight,behavior:"smooth"})}},{key:"render",value:function(){return console.log(this.state.images.length),Object(_.jsxs)("div",{children:[Object(_.jsx)(G,{onSubmit:this.onSubmit}),0===this.state.images.length?Object(_.jsx)("h2",{children:this.state.galleryText}):Object(_.jsx)(T,{images:this.state.images}),this.state.isLoading&&Object(_.jsx)("div",{className:h.a.loader,children:Object(_.jsx)(P,{})}),0!==this.state.images.length&&this.state.button&&Object(_.jsx)(w,{showMore:this.showMore})]})}}]),n}(a.Component);n(75);s.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(D,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={backdrop:"Modal_backdrop__3to7v",modal:"Modal_modal__29GUz",modalImage:"Modal_modalImage__2O43J"}}},[[76,1,2]]]);
//# sourceMappingURL=main.6302a07b.chunk.js.map