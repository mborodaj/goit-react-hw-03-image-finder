{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Searchbar/SearchBar.module.css","App.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Services/Pixabay-API.js","Components/Button/Button.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Searchbar/Serachbar.js","App.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","query","page","a","console","log","url","axios","defaults","baseURL","get","response","data","fetchData","Button","showMore","className","styles","galleryBtn","onClick","ImageGalleryItem","img","onImgClick","webformatURL","tags","galleryItem","galleryImg","src","alt","Modal","handleKeyPress","e","code","props","closeModal","target","nodeName","window","addEventListener","this","removeEventListener","image","backdrop","modal","modalImage","largeImageURL","Component","ImageGallery","state","modalImg","togleModal","setState","images","galleryList","map","id","Load","type","color","height","width","SearchBar","value","onSubmit","preventDefault","inputChange","currentTarget","formContainer","action","inputForm","placeholder","onChange","App","searchQuery","perPage","totalHits","isLoading","button","galleryText","then","hits","result","length","scrollTo","top","document","documentElement","scrollTop","clientHeight","behavior","loader","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6302a07b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryImg\":\"ImageGalleryItem_galleryImg__8GFxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"SearchBar_formContainer__2XIlZ\",\"inputForm\":\"SearchBar_inputForm__1xeMh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"App_loader__2fptQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryBtn\":\"Button_galleryBtn__3hZ2H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryList\":\"ImageGallery_galleryList__2T5dZ\"};","import axios from 'axios';\n\nasync function fetchData(query, page) {\n  console.log(query);\n  let apiKey = '19716290-df87d159eb9c48b6c31409183';\n\n  let url = `?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  axios.defaults.baseURL = 'https://pixabay.com/api/';\n\n  const response = await axios.get(url);\n  //   console.log(response);\n  const data = await response.data;\n  //   //   console.log(data);\n  //   const photos = await data.hits;\n  //   //   console.log(photos);\n\n  return data;\n}\n\nexport default fetchData;\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Button({ showMore }) {\n  return (\n    <button className={styles.galleryBtn} onClick={showMore}>\n      Show more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({ img, onImgClick }) {\n  const { webformatURL, tags } = img;\n\n  return (\n    <li className={styles.galleryItem}>\n      <img\n        className={styles.galleryImg}\n        src={webformatURL}\n        alt={tags}\n        onClick={() => onImgClick(img)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.object.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  closeModal = e => {\n    if (e.target.nodeName === 'DIV') {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    console.log(this.props.closeModal);\n    const { image } = this.props;\n\n    return (\n      <div className={styles.backdrop} onClick={this.closeModal}>\n        <div className={styles.modal}>\n          <img\n            className={styles.modalImage}\n            src={image.largeImageURL}\n            alt={image.tags}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport styles from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    modal: false,\n    modalImg: {},\n  };\n\n  togleModal = () => {\n    this.setState(({ modal }) => ({\n      modal: !modal,\n      modalImg: {},\n    }));\n  };\n\n  onImgClick = image => {\n    this.togleModal();\n    this.setState({ modalImg: image });\n  };\n\n  render() {\n    console.log(this.props);\n    const { images, onImgClick } = this.props;\n    return (\n      <>\n        <ul className={styles.galleryList}>\n          {images.map(image => (\n            <ImageGalleryItem\n              img={image}\n              key={image.id}\n              onImgClick={this.onImgClick}\n            />\n          ))}\n        </ul>\n        {this.state.modal && (\n          <Modal closeModal={this.togleModal} image={this.state.modalImg} />\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\n\nfunction Load() {\n  return <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />;\n}\n\nexport default Load;\n","import React, { Component } from 'react';\nimport styles from './SearchBar.module.css';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  state = {\n    value: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value);\n  };\n\n  inputChange = e => {\n    const { currentTarget } = e;\n    this.setState({ value: currentTarget.value });\n  };\n\n  render() {\n    return (\n      <header>\n        <form\n          className={styles.formContainer}\n          action=\"submit\"\n          onSubmit={this.onSubmit}\n        >\n          <input\n            className={styles.inputForm}\n            type=\"text\"\n            placeholder=\"Find images\"\n            onChange={this.inputChange}\n          />\n          <button type=\"subnit\">Search</button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import baseCss from './base.module.css';\nimport React, { Component } from 'react';\n\nimport styles from './App.module.css';\n\nimport fetchData from './Services/Pixabay-API';\n\nimport Button from './Components/Button/Button';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Loader from './Components/Loader/Loader';\nimport SearchBar from './Components/Searchbar/Serachbar';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n    perPage: 12,\n    images: [],\n    totalHits: null,\n    isLoading: false,\n    button: true,\n    galleryText: '',\n  };\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top:\n        document.documentElement.scrollTop +\n        document.documentElement.clientHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onSubmit = value => {\n    this.setState({ images: [], galleryText: '' });\n    if (value) {\n      this.setState({ isLoading: true });\n\n      fetchData(value, 1)\n        .then(data => {\n          console.log(data.hits);\n          return data.hits;\n        })\n        .then(result => {\n          console.log(result.length);\n          if (result.length > 0) {\n            this.setState({\n              images: result,\n              searchQuery: value,\n              page: 2,\n              isLoading: false,\n              button: result.length === 12,\n            });\n          } else {\n            this.setState({\n              galleryText: 'Nothing was found. Please specify you request.',\n              isLoading: false,\n            });\n          }\n        });\n    } else {\n      this.setState({ galleryText: 'Please enter some request' });\n    }\n  };\n\n  showMore = () => {\n    const { searchQuery, page, images } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchData(searchQuery, page)\n      .then(data => data.hits)\n      .then(result =>\n        this.setState({\n          images: [...images, ...result],\n          isLoading: false,\n          button: result.length === 12,\n        }),\n      );\n    this.setState(state => {\n      return { page: state.page + 1 }; //check\n    });\n  };\n\n  render() {\n    console.log(this.state.images.length);\n    return (\n      <div>\n        <SearchBar onSubmit={this.onSubmit} />\n\n        {this.state.images.length === 0 ? (\n          <h2>{this.state.galleryText}</h2>\n        ) : (\n          <ImageGallery images={this.state.images} />\n        )}\n\n        {this.state.isLoading && (\n          <div className={styles.loader}>\n            <Loader />\n          </div>\n        )}\n\n        {this.state.images.length !== 0 && this.state.button && (\n          <Button showMore={this.showMore} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3to7v\",\"modal\":\"Modal_modal__29GUz\",\"modalImage\":\"Modal_modalImage__2O43J\"};"],"sourceRoot":""}